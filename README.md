# ğŸŒ AirQualityAI: AI-Powered Air Quality Forecasting System

![Python](https://img.shields.io/badge/Python-3.9%2B-blue?style=for-the-badge&logo=python&logoColor=white)
![Streamlit](https://img.shields.io/badge/Streamlit-Dashboard-FF4B4B?style=for-the-badge&logo=streamlit&logoColor=white)
![Scikit-Learn](https://img.shields.io/badge/scikit--learn-Machine%20Learning-F7931E?style=for-the-badge&logo=scikit-learn&logoColor=white)
![Status](https://img.shields.io/badge/Status-Completed-success?style=for-the-badge)

## ğŸ“– Overview
**AirQualityAI** is a machine learning project designed to forecast the **Air Quality Index (AQI)** for major Turkish cities (Malatya, Istanbul, Ankara, Izmir, Bursa).

Unlike traditional weather apps that only show current conditions, this system analyzes **historical atmospheric data** (2 years) and **meteorological factors** (Wind, Temperature, Rain) to predict tomorrow's air quality risk using **Gradient Boosting** algorithms.

The project addresses real-world data challenges such as sensor failures (NaN values) by implementing robust data imputation techniques (Linear Interpolation & Backfill).

---

## ğŸš€ Key Features

### 1. Multi-Pollutant Analysis
The model doesn't just rely on PM2.5. It integrates multiple pollutants to calculate a comprehensive risk score:
* **PM2.5 & PM10:** Particulate Matter.
* **NO2:** Nitrogen Dioxide (Traffic pollution).
* **O3:** Ozone.
* **Meteorology:** Wind speed, direction, humidity, and precipitation.

### 2. Robust Data Pipeline (No More NaNs)
Real-time API data often contains gaps. This system includes a self-healing pipeline:
* **Linear Interpolation:** mathematically fills missing hourly data based on trends.
* **Forward/Back Fill:** ensures no zero-values break the model predictions.
* **Real-time Calibration:** Uses the "Last Known Value" logic for live dashboarding.

### 3. Advanced AI Model
Built with `HistGradientBoostingRegressor` from Scikit-Learn, which is optimized for tabular time-series data. It learns:
* **Seasonality:** Winter pollution spikes vs. Summer trends.
* **Lag Features:** How yesterday's pollution affects today.
* **Weekend Effect:** Changes in industrial/traffic emissions on weekends.

### 4. Professional Dashboard
A modern, dark-mode compatible web interface built with **Streamlit**. It features color-coded risk cards, dynamic charts, and live data monitoring.

---

## ğŸ“‚ Project Structure

Here is the explanation of the files in this repository:

```text
AirQualityAI/
â”œâ”€â”€ app.py                  # The Main Dashboard application (Streamlit Frontend)
â”œâ”€â”€ genis_veri_topla.py     # ETL Script: Fetches & cleans 2 years of history from Open-Meteo
â”œâ”€â”€ genis_model_egit.py     # ML Pipeline: Trains the model & generates performance plots
â”œâ”€â”€ genis_hava_kalitesi.csv # The raw dataset (Generated by the ETL script)
â”œâ”€â”€ requirements.txt        # List of Python libraries required to run the project
â”œâ”€â”€ models/                 # Folder containing the trained .joblib model files
â”‚   â””â”€â”€ aqi_model.joblib    # The serialized trained model
â”œâ”€â”€ grafikler/              # Performance reports generated after training
â”‚   â”œâ”€â”€ 1_gercek_vs_tahmin.png
â”‚   â”œâ”€â”€ 2_zaman_serisi_tahmin.png
â”‚   â””â”€â”€ 3_etkileyen_faktorler.png
â””â”€â”€ README.md               # Project documentation

```

ğŸ› ï¸ Installation & Usage
Follow these steps to run the project on your local machine.

1. Clone or Download
Clone this repository or download the files to a folder.

2. Install Requirements
Open your terminal in the project folder and run:

Bash

pip install -r requirements.txt
(Dependencies: streamlit, pandas, numpy, scikit-learn, joblib, requests, matplotlib, seaborn)

3. Data Collection (ETL)
Fetch the historical data (PM2.5, PM10, NO2, Weather) from Open-Meteo:

Bash

python genis_veri_topla.py
Output: Creates genis_hava_kalitesi.csv.

4. Model Training
Train the Gradient Boosting model and generate report graphs:

Bash

python genis_model_egit.py
Output: Saves the model to models/ and plots to grafikler/.

5. Launch the Dashboard
Start the web application:

Bash

streamlit run app.py
ğŸ“Š Methodology & Validation
Satellite vs. Ground Stations
You might notice differences between this model (Satellite-based) and local ground stations (e.g., Municipal stations):

This Model (Background Level): Uses Open-Meteo satellite/model data, representing the average air quality over a 10x10km grid. It reflects the general city atmosphere.

Ground Stations (Hotspots): Often located near heavy traffic. They measure local "hotspots" (e.g., high NO2 from exhaust), leading to higher readings than regional averages.

Conclusion: Both are correct within their own spatial resolution.

Performance Metrics
The model is evaluated using a 90/10 Train-Test split.

RÂ² Score: Indicates how well the model captures the variance.

Feature Importance: Analysis shows that Previous Day's AQI (Lag) and PM2.5 levels are the strongest predictors.

ğŸ‘¨â€ğŸ’» Author
Eren Duman

Department: Computer Engineering

University: Inonu University

Project Type: Senior Design Project (Bitirme Projesi)
